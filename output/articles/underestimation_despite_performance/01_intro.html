<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>intro</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="01_intro_files/libs/clipboard/clipboard.min.js"></script>
<script src="01_intro_files/libs/quarto-html/quarto.js"></script>
<script src="01_intro_files/libs/quarto-html/popper.min.js"></script>
<script src="01_intro_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="01_intro_files/libs/quarto-html/anchor.min.js"></script>
<link href="01_intro_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="01_intro_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="01_intro_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="01_intro_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="01_intro_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>With the proliferation of digital technologies, educational systems worldwide have undergone a deep transformation, where knowledge and abilities in the realm of information and computer technology (ICT) emerge as crucial for navigating modern society. ICT encompass a range of competencies, including —but not limited to— computer literacy, coding skills, internet navigation, and critical thinking in digital environments. In such a context, proficiency in ICT is increasingly recognized as a fundamental component of education success and future career opportunities <span class="citation" data-cites="hooleyRoleDigitalTechnology2020 mahmudDigitalAgeImportance2022">(<a href="#ref-hooleyRoleDigitalTechnology2020" role="doc-biblioref">Hooley &amp; Staunton, 2020</a>; <a href="#ref-mahmudDigitalAgeImportance2022" role="doc-biblioref">Mahmud &amp; Wong, 2022</a>)</span>. Despite the widespread integration of technology in classroom instruction, significant disparities persist in the acquisition and mastery of ICT competences among school-age children, contributing unequal access and outcomes that hinder the ability of marginalized groups to fully participate and succeed in an increasingly digital society <span class="citation" data-cites="dodelSocioeconomicInequalitiesDigital2021">(<a href="#ref-dodelSocioeconomicInequalitiesDigital2021" role="doc-biblioref">Dodel, 2021</a>)</span>.</p>
<p>A primary factor that generates gaps in ICT competences is socioeconomic status, whereby children from lower-income families often face barriers such as limited access to reliable internet connectivity, outdated technology infrastructure in schools, and insufficient resources for digital learning tools <span class="citation" data-cites="butcherDigitalPovertyBarrier2022 mulyaningsihPovertyDigitalDivide2021">(<a href="#ref-butcherDigitalPovertyBarrier2022" role="doc-biblioref">Butcher &amp; Curry, 2022</a>; <a href="#ref-mulyaningsihPovertyDigitalDivide2021" role="doc-biblioref">Mulyaningsih et al., 2021</a>)</span>. Additionally, disparities in parental education and involvement further exacerbate these challenges, as children from families with higher levels of parental education tend to have greater exposure to technology and receive more support for developing ICT knowledge and skills <span class="citation" data-cites="oharaYoungChildrenICT2011">(<a href="#ref-oharaYoungChildrenICT2011" role="doc-biblioref">O’Hara, 2011</a>)</span>. Furthermore, cultural stereotypes and gender norms can also influence the types of skills encouraged and valued among boys and girls, leading to differential opportunities for learning and advancement in certain domains <span class="citation" data-cites="claytonGenderStereotypesPrevail2009 wongTechnicalBoysCreative2018">(<a href="#ref-claytonGenderStereotypesPrevail2009" role="doc-biblioref">Clayton et al., 2009</a>; <a href="#ref-wongTechnicalBoysCreative2018" role="doc-biblioref">Wong &amp; Kemp, 2018</a>)</span>. For instance, girls are less likely to pursue computer science and engineering degrees due to stereotypes that these fields are male-oriented <span class="citation" data-cites="cheryanCulturalStereotypesGatekeepers2015">(<a href="#ref-cheryanCulturalStereotypesGatekeepers2015" role="doc-biblioref">Cheryan et al., 2015</a>)</span>. Such stereotypes emerge very early and are reinforced in socialization environments such as the school <span class="citation" data-cites="varoyUnderstandingGenderGap2023">(<a href="#ref-varoyUnderstandingGenderGap2023" role="doc-biblioref">Varoy et al., 2023</a>)</span>.</p>
<p>Besides status and gender differences in the acquisition of ICT knowledge and skills, self-efficacy has proven to be a key aspect in the exercise of digital competences. Self-efficacy is generally defined as a person’s confidence in their capacity to handle challenges and achieve desired outcomes <span class="citation" data-cites="banduraSelfefficacyMechanismHuman1982">(<a href="#ref-banduraSelfefficacyMechanismHuman1982" role="doc-biblioref">Bandura, 1982</a>)</span>, essential for an adequate exercise of digital skills. Research suggests that societal stereotypes and cultural norms often shape individuals’ perceptions of their digital self-efficacy and interests in technology domains, which can vary based on gender <span class="citation" data-cites="hargittaiDifferencesActualPerceived2006">(<a href="#ref-hargittaiDifferencesActualPerceived2006" role="doc-biblioref">Hargittai &amp; Shafer, 2006</a>)</span>. Girls, for instance, may internalize messages that associate technology and computer science with masculine traits, leading to lower confidence in their abilities and less motivation to pursue digital learning opportunities <span class="citation" data-cites="papastergiouAreComputerScience2008">(<a href="#ref-papastergiouAreComputerScience2008" role="doc-biblioref">Papastergiou, 2008</a>)</span>. Conversely, boys may receive implicit or explicit encouragement to engage with technology, resulting in higher levels of self-efficacy and persistence in acquiring digital skills. Furthermore, socialization within peer groups and family environments can reinforce these gendered attitudes, creating a self-perpetuating cycle of differential participation and achievement in digital domains that could have an impact in perceptions of self-efficacy.</p>
<p>Chile presents particularly interesting conditions for studying gender inequalities in digital self-efficacy around educational contexts. In this country, although female enrolment in higher education exceeds male enrolment by 6.9%, in the case of degrees associated with computer technologies, male enrolment exceeds female by 65.7% <span class="citation" data-cites="siesInforme2021Matricula2021 guzmanBrechasGeneroEducacion2021">(<a href="#ref-guzmanBrechasGeneroEducacion2021" role="doc-biblioref">Guzmán, 2021</a>; <a href="#ref-siesInforme2021Matricula2021" role="doc-biblioref">SIES, 2021</a>)</span>. In addition, there is evidence of high levels of dropout among women entering computer careers, which are mainly explained by psychological factors such as low self-esteem, academic inefficiency and lack of encouragement during their secondary education <span class="citation" data-cites="gonzalezcatalanDesercionEstudiantilEducacion2018 delafuente-mellaAnalysisPredictionEngineering2020">(<a href="#ref-delafuente-mellaAnalysisPredictionEngineering2020" role="doc-biblioref">de la Fuente-Mella et al., 2020</a>; <a href="#ref-gonzalezcatalanDesercionEstudiantilEducacion2018" role="doc-biblioref">González Catalán et al., 2018</a>)</span>. This last finding is in line with research showing a persistent gender gap in performance on standardized mathematics national school tests <span class="citation" data-cites="vargasdiazBrechasPersistentesGenero2022">(<a href="#ref-vargasdiazBrechasPersistentesGenero2022" role="doc-biblioref">Vargas Diaz &amp; Matus Correa, 2022</a>)</span>. In this sense, and in line with the findings of the educational literature in the Latin American region, it is important to approach the school stage in order to understand the formation of gender inequalities in self-efficacy and digital literacy around higher education and occupational structure <span class="citation" data-cites="ancheta-arrabalGenderDigitalDivide2021">(<a href="#ref-ancheta-arrabalGenderDigitalDivide2021" role="doc-biblioref">Ancheta-Arrabal et al., 2021</a>)</span>.</p>
<p>The present paper deals with Chile’s gender differences regarding digital literacy at school age, with a focus on ICT self-efficacy in three main aspects. First, we make a distinction between general and specific digital self-efficacy in order to explore whether sex differences manifest equally in both domains. Secondly we address the link between ICT knowledge and self-efficacy by gender. The interest in this aspect is based on the fact that girls tend to outperform their male counterparts when it comes to standardized test in technological abilities and literacy <span class="citation" data-cites="gebhardtGenderDifferencesComputer2019 tomteGenderdifferencesSelfefficacyICT2011 tsaiJuniorHighSchool2010 punterGenderDifferencesComputer2017 fraillonPreparingLifeDigital2014">(<a href="#ref-fraillonPreparingLifeDigital2014" role="doc-biblioref">Fraillon et al., 2014</a>; <a href="#ref-gebhardtGenderDifferencesComputer2019" role="doc-biblioref">Gebhardt et al., 2019</a>; <a href="#ref-punterGenderDifferencesComputer2017" role="doc-biblioref">Punter et al., 2017</a>; <a href="#ref-tomteGenderdifferencesSelfefficacyICT2011" role="doc-biblioref">Tømte &amp; Hatlevik, 2011</a>; <a href="#ref-tsaiJuniorHighSchool2010" role="doc-biblioref">Tsai &amp; Tsai, 2010</a>)</span>. Therefore, this would express a paradox for girls: subestimation in self-efficacy despite better performance. Thirdly, we focus on class gender composition and its interaction with gender and self-efficacy. Based on research on gender compositional effects in classrooms, we argue that the interaction in contexts with peers with higher self-efficacy (males) could lead to a reinforcement of gender stereotypes and to a decrease in ITC self-efficacy in females. Therefore, a larger proportion of females in a classroom would be related to larger self-efficacy for them.</p>

</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-line-spacing="2" role="list">
<div id="ref-ancheta-arrabalGenderDigitalDivide2021" class="csl-entry" role="listitem">
Ancheta-Arrabal, A., Pulido-Montes, C., &amp; Carvajal-Mardones, V. (2021). Gender <span>Digital Divide</span> and <span>Education</span> in <span>Latin America</span>: <span>A Literature Review</span>. <em>Education Sciences</em>, <em>11</em>(12), 804. <a href="https://doi.org/10.3390/educsci11120804">https://doi.org/10.3390/educsci11120804</a>
</div>
<div id="ref-banduraSelfefficacyMechanismHuman1982" class="csl-entry" role="listitem">
Bandura, A. (1982). Self-efficacy mechanism in human agency. <em>American Psychologist</em>, <em>37</em>(2), 122–147. <a href="https://doi.org/10.1037/0003-066X.37.2.122">https://doi.org/10.1037/0003-066X.37.2.122</a>
</div>
<div id="ref-butcherDigitalPovertyBarrier2022" class="csl-entry" role="listitem">
Butcher, J., &amp; Curry, G. (2022). Digital poverty as a barrier to access. <em>Widening Participation and Lifelong Learning</em>, <em>24</em>(2), 180–194. <a href="https://doi.org/10.5456/WPLL.24.2.180">https://doi.org/10.5456/WPLL.24.2.180</a>
</div>
<div id="ref-cheryanCulturalStereotypesGatekeepers2015" class="csl-entry" role="listitem">
Cheryan, S., Master, A., &amp; Meltzoff, A. N. (2015). Cultural stereotypes as gatekeepers: Increasing girls’ interest in computer science and engineering by diversifying stereotypes. <em>Frontiers in Psychology</em>, <em>6</em>. <a href="https://doi.org/10.3389/fpsyg.2015.00049">https://doi.org/10.3389/fpsyg.2015.00049</a>
</div>
<div id="ref-claytonGenderStereotypesPrevail2009" class="csl-entry" role="listitem">
Clayton, K. L., Von Hellens, L. A., &amp; Nielsen, S. H. (2009). Gender stereotypes prevail in <span>ICT</span>: A research review. In <em>Proceedings of the special interest group on management information system’s 47th annual conference on <span>Computer</span> personnel research</em> (pp. 153–158). Limerick Ireland: ACM. <a href="https://doi.org/10.1145/1542130.1542160">https://doi.org/10.1145/1542130.1542160</a>
</div>
<div id="ref-delafuente-mellaAnalysisPredictionEngineering2020" class="csl-entry" role="listitem">
de la Fuente-Mella, H., Guzmán Gutiérrez, C., Crawford, K., Foschino, G., Crawford, B., Soto, R., … Elórtegui-Gómez, C. (2020). Analysis and <span>Prediction</span> of <span>Engineering Student Behavior</span> and <span>Their Relation</span> to <span>Academic Performance Using Data Analytics Techniques</span>. <em>Applied Sciences</em>, <em>10</em>(20), 7114. <a href="https://doi.org/10.3390/app10207114">https://doi.org/10.3390/app10207114</a>
</div>
<div id="ref-dodelSocioeconomicInequalitiesDigital2021" class="csl-entry" role="listitem">
Dodel, M. (2021). Socioeconomic <span>Inequalities</span> and <span>Digital Skills</span>. In D. A. Rohlinger &amp; S. Sobieraj (Eds.), <em>The <span>Oxford Handbook</span> of <span>Digital Media Sociology</span></em> (1st ed., pp. 548–566). Oxford University Press. <a href="https://doi.org/10.1093/oxfordhb/9780197510636.013.30">https://doi.org/10.1093/oxfordhb/9780197510636.013.30</a>
</div>
<div id="ref-fraillonPreparingLifeDigital2014" class="csl-entry" role="listitem">
Fraillon, J., Ainley, J., Schulz, W., Friedman, T., &amp; Gebhardt, E. (2014). <em>Preparing for <span>Life</span> in a <span>Digital Age</span>: <span>The IEA International Computer</span> and <span>Information Literacy Study International Report</span></em>. Cham: Springer International Publishing.
</div>
<div id="ref-gebhardtGenderDifferencesComputer2019" class="csl-entry" role="listitem">
Gebhardt, E., Thomson, S., Ainley, J., &amp; Hillman, K. (2019). <em>Gender <span>Differences</span> in <span>Computer</span> and <span>Information Literacy</span>: <span class="nocase">An In-depth Analysis</span> of <span>Data</span> from <span>ICILS</span></em> (Vol. 8). Cham: Springer International Publishing. <a href="https://doi.org/10.1007/978-3-030-26203-7">https://doi.org/10.1007/978-3-030-26203-7</a>
</div>
<div id="ref-gonzalezcatalanDesercionEstudiantilEducacion2018" class="csl-entry" role="listitem">
González Catalán, F. I., Arismendi Vera, K. J., González Catalán, F. I., &amp; Arismendi Vera, K. J. (2018). <span>Deserci<span>ó</span>n Estudiantil en la Educaci<span>ó</span>n Superior T<span>é</span>cnico-Profesional: Explorando los factores que inciden en alumnos de primer a<span>ñ</span>o</span>. <em>Revista de la educaci<span>ó</span>n superior</em>, <em>47</em>(188), 109–137.
</div>
<div id="ref-guzmanBrechasGeneroEducacion2021" class="csl-entry" role="listitem">
Guzmán, D. (2021). <span>Brechas de g<span>é</span>nero en la educaci<span>ó</span>n superior en Chile y su impacto en la segregaci<span>ó</span>n laboral. Una revisi<span>ó</span>n sistem<span>á</span>tica de la literatura</span>. <em>International Journal for 21st Century Education</em>, <em>8</em>(1), 47–67. <a href="https://doi.org/10.21071/ij21ce.v8i1.13650">https://doi.org/10.21071/ij21ce.v8i1.13650</a>
</div>
<div id="ref-hargittaiDifferencesActualPerceived2006" class="csl-entry" role="listitem">
Hargittai, E., &amp; Shafer, S. (2006). Differences in <span>Actual</span> and <span>Perceived Online Skills</span>: <span>The Role</span> of <span>Gender</span>. <em>Social Science Quarterly</em>, <em>87</em>(2), 432–448. <a href="https://doi.org/10.1111/j.1540-6237.2006.00389.x">https://doi.org/10.1111/j.1540-6237.2006.00389.x</a>
</div>
<div id="ref-hooleyRoleDigitalTechnology2020" class="csl-entry" role="listitem">
Hooley, T., &amp; Staunton, T. (2020). The <span>Role</span> of <span>Digital Technology</span> in <span>Career Development</span>. In P. J. Robertson, T. Hooley, &amp; P. McCash (Eds.), <em>The <span>Oxford Handbook</span> of <span>Career Development</span></em> (1st ed., pp. 297–312). Oxford University Press. <a href="https://doi.org/10.1093/oxfordhb/9780190069704.013.22">https://doi.org/10.1093/oxfordhb/9780190069704.013.22</a>
</div>
<div id="ref-mahmudDigitalAgeImportance2022" class="csl-entry" role="listitem">
Mahmud, M. M., &amp; Wong, S. F. (2022). Digital age: <span>The</span> importance of 21st century skills among the undergraduates. <em>Frontiers in Education</em>, <em>7</em>, 950553. <a href="https://doi.org/10.3389/feduc.2022.950553">https://doi.org/10.3389/feduc.2022.950553</a>
</div>
<div id="ref-mulyaningsihPovertyDigitalDivide2021" class="csl-entry" role="listitem">
Mulyaningsih, T., Wahyunengseh, R., &amp; Hastjarjo, S. (2021). Poverty and <span>Digital Divide</span>: <span>A Study</span> in <span>Urban Poor Neighborhoods</span>. <em>Jurnal Ilmu Sosial Dan Ilmu Politik</em>, <em>24</em>(2), 189. <a href="https://doi.org/10.22146/jsp.52325">https://doi.org/10.22146/jsp.52325</a>
</div>
<div id="ref-oharaYoungChildrenICT2011" class="csl-entry" role="listitem">
O’Hara, M. (2011). Young children’s <span>ICT</span> experiences in the home: <span>Some</span> parental perspectives. <em>Journal of Early Childhood Research</em>, <em>9</em>(3), 220–231. <a href="https://doi.org/10.1177/1476718X10389145">https://doi.org/10.1177/1476718X10389145</a>
</div>
<div id="ref-papastergiouAreComputerScience2008" class="csl-entry" role="listitem">
Papastergiou, M. (2008). Are <span>Computer Science</span> and <span>Information Technology</span> still masculine fields? <span>High</span> school students’ perceptions and career choices. <em>Computers &amp; Education</em>, <em>51</em>(2), 594–608. <a href="https://doi.org/10.1016/j.compedu.2007.06.009">https://doi.org/10.1016/j.compedu.2007.06.009</a>
</div>
<div id="ref-punterGenderDifferencesComputer2017" class="csl-entry" role="listitem">
Punter, R. A., Meelissen, M. R., &amp; Glas, C. A. (2017). Gender differences in computer and information literacy: <span>An</span> exploration of the performances of girls and boys in <span>ICILS</span> 2013. <em>European Educational Research Journal</em>, <em>16</em>(6), 762–780. <a href="https://doi.org/10.1177/1474904116672468">https://doi.org/10.1177/1474904116672468</a>
</div>
<div id="ref-siesInforme2021Matricula2021" class="csl-entry" role="listitem">
SIES. (2021). <span>Informe 2021. Matr<span>í</span>cula de Pregrado en Educaci<span>ó</span>n Superior</span>. Gobierno de Chile. Subsecretaria de Educaci<span>ó</span>n Superior.
</div>
<div id="ref-tomteGenderdifferencesSelfefficacyICT2011" class="csl-entry" role="listitem">
Tømte, C., &amp; Hatlevik, O. E. (2011). Gender-differences in <span class="nocase">Self-efficacy ICT</span> related to various <span class="nocase">ICT-user</span> profiles in <span>Finland</span> and <span>Norway</span>. <span>How</span> do self-efficacy, gender and <span class="nocase">ICT-user</span> profiles relate to findings from <span>PISA</span> 2006. <em>Computers &amp; Education</em>, <em>57</em>(1), 1416–1424. <a href="https://doi.org/10.1016/j.compedu.2010.12.011">https://doi.org/10.1016/j.compedu.2010.12.011</a>
</div>
<div id="ref-tsaiJuniorHighSchool2010" class="csl-entry" role="listitem">
Tsai, M.-J., &amp; Tsai, C.-C. (2010). Junior high school students’ <span>Internet</span> usage and self-efficacy: <span>A</span> re-examination of the gender gap. <em>Computers &amp; Education</em>, <em>54</em>(4), 1182–1192. <a href="https://doi.org/10.1016/j.compedu.2009.11.004">https://doi.org/10.1016/j.compedu.2009.11.004</a>
</div>
<div id="ref-vargasdiazBrechasPersistentesGenero2022" class="csl-entry" role="listitem">
Vargas Diaz, C., &amp; Matus Correa, C. (2022). Brechas persistentes de g<span>é</span>nero en matem<span>á</span>ticas en las pruebas nacionales chilenas <span>Simce</span>. <em>Estudios Pedag<span>ó</span>gicos (Valdivia)</em>, <em>48</em>(1), 389–400. <a href="https://doi.org/10.4067/S0718-07052022000100389">https://doi.org/10.4067/S0718-07052022000100389</a>
</div>
<div id="ref-varoyUnderstandingGenderGap2023" class="csl-entry" role="listitem">
Varoy, E., Luxton-Reilly, A., Lee, K., &amp; Giacaman, N. (2023). Understanding the <span>Gender Gap</span> in <span>Digital Technologies Education</span>. In <em>Proceedings of the 25th <span>Australasian Computing Education Conference</span></em> (pp. 69–76). Melbourne VIC Australia: ACM. <a href="https://doi.org/10.1145/3576123.3576131">https://doi.org/10.1145/3576123.3576131</a>
</div>
<div id="ref-wongTechnicalBoysCreative2018" class="csl-entry" role="listitem">
Wong, B., &amp; Kemp, P. E. J. (2018). Technical boys and creative girls: The career aspirations of digitally skilled youths. <em>Cambridge Journal of Education</em>, <em>48</em>(3), 301–316. <a href="https://doi.org/10.1080/0305764X.2017.1325443">https://doi.org/10.1080/0305764X.2017.1325443</a>
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>